#! from kivymd.uix.label import MDLabel
<RootWidget>:
    #Connect:
    #    name:"connect"
    MainScreen:
        name:"main_screen"
    ShowDataTable:
        name:"show_data_table"
        id:sdt
    OperationsScreen
        name:"operations_screen"
###############################################        
<Connect>:
    GridLayout:
        cols:1
        pos_hint: {'center_y':0.4}
        GridLayout:
            cols:2
            padding: 20,20
            spacing: '15dp','15dp'
            
            size_hint :0.5,0.3
            MDTextField:
                id:Ip
                hint_text:'192.168.1.105'

            MDTextField:
                id:Port
                hint_text:'4444'

        GridLayout:
            cols:1
            size_hint :0.5,0.5
            pos_hint: {'center_x':0.5 , 'center_y':0.5}
            RelativeLayout            
                MDRaisedButton:
                    size_hint : 0.15, 0.17 
                    pos_hint: {'center_x':0.5 , 'center_y':1}
                    text:"Connect"
                    on_press:
                        root.db_connect()                       
                MDLabel:
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 0, 0, 1
                    id:constat
                    font_size: "22sp"
        
####################################################
<MainScreen>:
    GridLayout:
        cols :1
        GridLayout: ##__DataBases Management
            cols:1
            size_hint :0.5,0.2
            MDLabel:
                halign: "center"
                theme_text_color: "Custom"
                text_color: 0, 0, 0, 1
                id:title
                text: "DataBases Management"
                font_size: "22sp"
        GridLayout:
            cols: 2
            size_hint :0.50,0.7
            padding: 20,20
            spacing: '15dp','15dp'
            MDRaisedButton:#________"Choose DataBase"
                md_bg_color:  1,0.93150, 0.6, 1
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Choose DataBase"
                on_press:
                    root.choose_db()
                    
            MDRaisedButton:#______"Crypt DataBase"
                md_bg_color:  0.9,0.8, 0.6, 1
                theme_text_color: "Custom"
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Crypt DataBase"
                on_press:
                    root.crypt_db()
                    
            MDRaisedButton:    #_____"Send Database"
                md_bg_color:  0.8,0.9, 0.5, 1
                text:"Send Database"
                theme_text_color: "Custom"
                size_hint :0.3,0.20
                font_size: "18sp"
                on_press : 
                    root.send_db()
            MDRaisedButton:     #"Operations"
                text:"Operations"
                size_hint :0.3,0.20
                theme_text_color: "Custom"
                font_size: "18sp"
                on_press : root.operations()
            MDRaisedButton:#________"Crypt Column"
                md_bg_color:  1,0.93150, 0.6, 1
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Crypt Column"
                on_press:
                    root.cryptcolumn()
            MDTextField:
                size_hint :0.3,0.20 
                id:idinsert0
                    
        GridLayout:
            cols:1
            padding: 20,0
            spacing: '15dp','0dp'
            id :sabah
            size_hint :0.8,0.9
            ScrollView:
                size_hint :0.8,0.2
                MDTextField:
                    multiline: True
                    id:datashow
                    hint_text:'show Data'
                    text:""
                    text_size: self.width, None
                    size_hint_y: None
                    #height: self.texture_size[1]
            RelativeLayout            
                MDRaisedButton:     #"Show DataTables"
                    size_hint : 0.18, 0.17 
                    pos_hint: {'center_x':0.5 , 'center_y':0.5}
                    text:"Show DataTables"
                    on_press:
                        root.showdt()
##########################################
<ShowDataTable> :
    GridLayout:
        cols:2
        GridLayout:
            cols:1
            id:sdtleft
            size_hint :0.8,1
            padding: 20,10            
            MDIconButton:
                icon: "imgstore/back2.png"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_press:root.onback()

        GridLayout:
            cols: 1
            id:right
            size_hint :0.3,0.5
            padding: 20,10
            spacing: '15dp','10dp'
            MDRaisedButton:#______"ADD"
                md_bg_color:  0.9,0.8, 0.6, 1
                theme_text_color: "Custom"
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Add Record"
                on_press:
            MDRaisedButton:#______"Edit"
                md_bg_color:  0.9,0.8, 0.6, 1
                theme_text_color: "Custom"
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Edit DataBase"
                on_press:


############################################
<OperationsScreen>:

    GridLayout:
        cols :1
        GridLayout:
            cols:1
            size_hint: 0.2,0.2
            padding: 20,10
            spacing: '20dp','15dp'
            MDIconButton:
                icon: "imgstore/lefth.png"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_press:root.onback()

            #RelativeLayout:

            MDTextField: # Insert Text
                id:idinsert
                size_hint :0.8,0.5

        GridLayout: # SUM and AVG
            size_hint: 0.2,0.1
            cols:2
            padding: 80,10
            spacing: '20dp','15dp'
            RelativeLayout
                MDRaisedButton: # Sum
                    size_hint :1,0.7
                    md_bg_color:  0.956,1, 0.824, 1
                    theme_text_color: "Custom"
                    text_color: app.theme_cls.primary_color
                    font_size: "18sp"
                    text:"Sum"
                    on_press:
                        root.sumf()
            RelativeLayout
                MDRaisedButton:#AVG
                    size_hint :1,0.7
                    md_bg_color:  0.996078431372549,251/255, 216/255, 1
                    theme_text_color: "Custom"
                    text_color: app.theme_cls.primary_color                    
                    font_size: "18sp"
                    text:"AVG"
                    on_press:
                        root.avgf()

        GridLayout: # PRoduct Label
            
            size_hint: 0.2,0.2
            cols:1
            RelativeLayout
                MDLabel:
                    size_hint :0.7,0.30
                    text: "Product"
                    md_bg_color:  238/255, 162/255, 154/255, 1
                    font_size: "22sp"
                    halign: "center"
                    pos_hint: {'center_x':0.5 , 'center_y':0.38}

        GridLayout: # MUL RUSSE & LOG MULL            
            size_hint: 0.2,0.1
            cols: 2
            
            padding: 80,0
            spacing: '15dp','0dp'
            RelativeLayout
                MDRaisedButton:             # MUL RUSSE
                    size_hint :1,0.7
                    md_bg_color:  241/255, 137/255, 115/255, 1
                    font_size: "18sp"
                    text:"Russ Mul"
                    pos_hint: {'center_x':0.5 , 'center_y':1}
                    on_press:
                        root.mulru()
            RelativeLayout
                MDRaisedButton:         # LOG MUL
                    size_hint :1,0.7
                    md_bg_color:  80/255, 57/255, 76/255, 1
                    theme_text_color: "Custom"
                    font_size: "18sp"
                    text:"Log Mul"
                    pos_hint: {'center_x':0.5 , 'center_y':1}
                    on_press:
                        root.mulog()

        GridLayout:#_________________Show Result Labels
            size_hint: 0.2,0.2
            padding: 20,20
            spacing: '15dp','15dp'
            cols:1
            MDLabel:
                size_hint: 0.3,0.20
                font_size: "18sp"           
                text: "Result"
                halign: "center"
                md_bg_color:  0.9,0.8, 0.6, 1
                font_size: "24sp"
            MDLabel:
                id: opresult
                size_hint: 0.3,0.20
                text: ""
                md_bg_color:  181/255, 231/255, 160/255, 1
                halign: "center"
                
            



                                                                            
            


