#! from kivymd.uix.label import MDLabel
<RootWidget>:
    #Connect:
    #    name:"connect"
    MainScreen:
        name:"main_screen"
    #ShowDataTable:
    #    name:"show_data_table"
    #    id:sdt
    OperationsScreen
        name:"operations_screen"
###############################################        
<Connect>:
    GridLayout:
        cols:1
        pos_hint: {'center_y':0.4}
        GridLayout:
            cols:2
            padding: 20,20
            spacing: '15dp','15dp'
            
            size_hint :0.5,0.3
            MDTextField:
                id:Ip
                hint_text:'192.168.1.105'

            MDTextField:
                id:Port
                hint_text:'4444'
        GridLayout:
            cols:1
            size_hint :0.5,0.5
            pos_hint: {'center_x':0.5 , 'center_y':0.5}
            RelativeLayout            
                MDRaisedButton:
                    size_hint : 0.15, 0.17 
                    pos_hint: {'center_x':0.5 , 'center_y':1}
                    text:"Connect"
                    on_press:
                        root.db_connect()                       
                MDLabel:
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: 1, 0, 0, 1
                    id:constat
                    font_size: "22sp"
        
####################################################
<MainScreen>:
    GridLayout:
        cols :1
        GridLayout: ##__DataBases Management
            cols:1
            size_hint :0.5,0.2
            MDLabel:
                halign: "center"
                theme_text_color: "Custom"
                text_color: 0, 0, 0, 1
                id:title
                text: "DataBases Management"
                font_size: "22sp"
        GridLayout:
            cols: 2
            size_hint :0.50,0.7
            padding: 20,20
            spacing: '15dp','15dp'
            MDRaisedButton:#________"Choose DataBase"
                md_bg_color:  1,0.93150, 0.6, 1
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Choose DataBase"
                on_press:
                    root.choose_db()
                    
            MDRaisedButton:#______"Crypt DataBase"
                md_bg_color:  0.9,0.8, 0.6, 1
                theme_text_color: "Custom"
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Crypt DataBase"
                on_press:
                    root.crypt_db()
                    
            MDRaisedButton:    #_____"Send Database"
                md_bg_color:  0.8,0.9, 0.5, 1
                text:"Send Database"
                theme_text_color: "Custom"
                size_hint :0.3,0.20
                font_size: "18sp"
                on_press : 
                    root.send_db()
            MDRaisedButton:     #"Operations"
                text:"Operations"
                size_hint :0.3,0.20
                theme_text_color: "Custom"
                font_size: "18sp"
                on_press : root.operations()
            MDRaisedButton:#________"Crypt Column"
                md_bg_color:  1,0.93150, 0.6, 1
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Crypt Column"
                on_press:
                    root.cryptcolumn()
            MDTextField:
                size_hint :0.3,0.20 
                id:idinsert0
                    
        GridLayout:
            cols:1
            padding: 20,0
            spacing: '15dp','0dp'
            id :sabah
            size_hint :0.8,0.9
            ScrollView:
                size_hint :0.8,0.2
                MDTextField:
                    multiline: True
                    id:datashow
                    hint_text:'show Data'
                    text:""
                    text_size: self.width, None
                    size_hint_y: None
                    #height: self.texture_size[1]
            RelativeLayout            
                MDRaisedButton:     #"Show DataTables"
                    size_hint : 0.18, 0.17 
                    pos_hint: {'center_x':0.5 , 'center_y':0.5}
                    text:"Show DataTables"
                    on_press:
                        root.showdt()
##########################################
<ShowDataTable> :
    GridLayout:
        cols:2
        GridLayout:
            cols:1
            id:sdtleft
            size_hint :0.8,1
            padding: 20,10            
            MDIconButton:
                icon: "imgstore/back2.png"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_press:root.onback()

        GridLayout:
            cols: 1
            id:right
            size_hint :0.3,0.5
            padding: 20,10
            spacing: '15dp','10dp'
            MDRaisedButton:#______"ADD"
                md_bg_color:  0.9,0.8, 0.6, 1
                theme_text_color: "Custom"
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Add Record"
                on_press:
            MDRaisedButton:#______"Edit"
                md_bg_color:  0.9,0.8, 0.6, 1
                theme_text_color: "Custom"
                font_size: "18sp"
                size_hint :0.3,0.20 
                text:"Edit DataBase"
                on_press:


############################################

<OperationsScreen>:
    GridLayout:
        cols :1
        padding: 20,20
        spacing: '15dp','15dp'
        RelativeLayout:
            MDTextField: # Insert Text
                id:idinsert
                size_hint :0.2,0.2
                halign: "center"
                valign : "midle"
                pos_hint: {'center_x':0.7 , 'center_y':0.8}
            MDLabel: #Elapsed Time
                text: "Elapsed Time"
                id : ltime
                md_bg_color:  255/255,255/255,255/255, 1
                pos_hint: {'center_x':.61 , 'center_y':.6}
                size_hint: 0.42,0.13
                font_size: "16sp"           
                halign: "center"
                text_color: 0, 0, 1, 1
            MDIcon:
                halign: "center"
                icon: "clock"
                pos_hint: {'center_x':.77 , 'center_y':.6}
                user_font_size: "99sp"
            MDLabel:#lresult
                text: "Operation Result"
                id: lresult
                pos_hint: {'center_x':0.61 , 'center_y':0.4}
                size_hint: 0.42,0.13
                md_bg_color:  181/255, 231/255, 160/255, 1
                halign: "center" 
                size: self.texture_size
                font_size: "18sp" 
###############################################################################################
    MDNavigationDrawer :
        id : nav_drawer
        orientation: 'vertical'
        padding: "20dp","20dp"
        spacing: '15dp'
        RelativeLayout:
            MDRaisedButton: # Sum
                text:"Sum"
                pos_hint: {'center_x':0.5 , 'center_y':0.6}
                size_hint: 0.7,0.2
                md_bg_color:  0.956,1, 0.824, 1
                text_color:app.theme_cls.primary_color
                font_size: "20sp" 
                on_press:root.sumf()
            MDRaisedButton:#AVG
                text:"AVG"
                pos_hint: {'center_x':0.5 , 'center_y':0.33}
                size_hint: 0.7,0.2            
                md_bg_color:  0.996078431372549,251/255, 216/255, 1
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color                    
                font_size: "20sp" 
                on_press:root.avgf()

        ScrollView:
            RelativeLayout
                MDLabel:
                    pos_hint: {'center_x':0.5 , 'center_y':0.9}
                    size_hint: 0.7,0.2    
                    text: "Product"
                    halign : "center"
                    height: self.texture_size[1]
                    md_bg_color:  238/255, 162/255, 154/255, 1
                MDRaisedButton:
                    text:"Russ Mul"
                    pos_hint: {'center_x':0.5 , 'center_y':.6}
                    size_hint: 0.7,0.2                
                    md_bg_color:  241/255, 137/255, 115/255, 1
                    font_size: "20sp"
                    on_press: 
                        root.mulru()
                        print("Hello==============")
                MDRaisedButton:
                    text:"Log Mul"
                    pos_hint: {'center_x':0.5 , 'center_y':.3}
                    size_hint: 0.7,0.2                 
                    md_bg_color:  80/255, 57/255, 76/255, 1
                    theme_text_color: "Custom"
                    
                    font_size: "20sp"
                    on_press: 
                        root.mulog()
                        print("Hello==============")
################################################
    GridLayout:
        cols :1
        padding: 20,20
        spacing: '15dp','15dp'
        MDToolbar:
            title: 'Operations'
            left_action_items: [['menu', lambda x: nav_drawer.set_state('toggle')]]
            right_action_items: [["home", lambda x: root.onback()]]
            elevation:20
        
        ############################
             




                                                                            
            


